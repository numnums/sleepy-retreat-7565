<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="myModalLabel">New Student</h4>  
        </div>          
        <div class="modal-body">
          <%= form_for :student, url: students_path do |f| %>
          <!-- buggy, I don't think we ever hit the error markup because we're using html validation to
          require the form input fields -->
          <% if @student.errors.any? %>
            <div id="error_explanation">
              <h2><%= pluralize(@student.errors.count, "error") %> prohibited this student from being saved:</h2>
           
              <ul>
              <% @student.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
              </ul>
            </div>
          <% end %>

            <p class = "form-group">
              <%= f.label :firstname, "First Name"%><br>
              <%= f.text_field :firstname , :class => 'form-control' , :required => true  %>
            </p>
           
            <p class = "form-group">
              <%= f.label :lastname, "Last Name" %><br>
              <%= f.text_field :lastname , :class => 'form-control' , :required => true  %>
            </p>
           
    
            <%= f.radio_button(:gender, "M") %>
            <%= label_tag("Male") %>
            <%= f.radio_button(:gender, "F") %>
            <%= label_tag("Female") %>

<!--              <p class = "form-group">
              <%= f.label :gender, "Gender" %><br>
              <%= f.text_field :gender , :class => 'form-control' , :required => true %>
            </p>
 -->
             <p class = "form-group">
              <%= f.label :wearsglasses, "Does this child wear glasses?" %><br>
              <%= f.text_field :wearsglasses , :class => 'form-control' , :required => true %>
            </p>

            <p class = "form-group">
              <%= f.label :birthdate, "Birth Date" %><br>
              <%=date_select :student, :birthdate, { start_year: 30.years.ago.year, end_year: Date.today.year, default: Date.today} %>
            </p>

            <p class = "form-group">
              <%= f.label :school_id, "Select a school" %><br>
              <%=
              f.collection_select( :school_id, @schools, :id, :name, {:prompt => true} , :required => true) 
              %>

             <p class = "form-group">
              <%= f.label :classroomdescription, "What class is your child in? (Room #, Teacher)" %><br>
              <%= f.text_field :classroomdescription , :class => 'form-control' , :required => true %>
            </p>

             <p class = "form-group">
              <%= f.label :classroomtime, "Is class in the morning or the evening?" %><br>
              <!-- <%= f.text_field :classroomtime , :class => 'form-control' , :required => true %> -->

               <%= f.radio_button(:classroomtime, "AM") %>
              <%= label_tag("AM") %>
              <%= f.radio_button(:classroomtime, "PM") %>
              <%= label_tag("PM") %>

            </p>

            <!-- if a parent is registering, assign this student to that parent automatically.  Otherwise, this is an admin who may assign a parent via dropdown -->
            <% if @parent %>                 
                <%= f.hidden_field :parent_id, :value => @parent.id %>          
            <% else %>  
              <p class = "form-group">
                <%= f.label :parent_id, "Select a parent" %><br>
                <%=
                f.collection_select( :parent_id, @parents, :id, :firstname, {:prompt => true} , :required => true) 
                %>
            <% end %>



          </div> <!-- modal-body -->            
          <div class="modal-footer"> 
            <p class ="form-group">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <%= f.submit :class => 'btn btn-primary' %>
            </p>
          <% end %>
        </div> <!-- modal-footer -->
  </div>
</div>